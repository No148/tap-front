import { useContext } from 'react'
import { darken } from '@mui/material'
import { ThemeContext } from '@/contexts/ThemeContext'

export default function ThemeChanger({ children = () => {} }) {
  const { theme, toggleTheme } = useContext(ThemeContext)

  if (typeof window !== 'undefined' && window.tvSwitchTheme) {
    window.tvSwitchTheme(theme)
  }

  return children({ theme, themeToggle: toggleTheme })
}

export const LightIcon = ({ checked }) => (
  <div
    style={{
      padding: 6,
      display: 'flex',
      alignItems: 'center',
      borderRadius: '50%',
      background: checked ? darken('#d6dee1', 0.2) : 'transparent',
    }}
  >
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M8 3.5C7.10998 3.5 6.23995 3.76392 5.49993 4.25839C4.75991 4.75285 4.18314 5.45566 3.84254 6.27792C3.50195 7.10019 3.41283 8.00499 3.58647 8.87791C3.7601 9.75082 4.18868 10.5526 4.81802 11.182C5.44736 11.8113 6.24918 12.2399 7.12209 12.4135C7.99501 12.5872 8.89981 12.4981 9.72208 12.1575C10.5443 11.8169 11.2471 11.2401 11.7416 10.5001C12.2361 9.76005 12.5 8.89002 12.5 8C12.4983 6.80703 12.0237 5.6634 11.1802 4.81985C10.3366 3.97629 9.19297 3.50165 8 3.5ZM8 11C7.40666 11 6.82664 10.8241 6.33329 10.4944C5.83994 10.1648 5.45542 9.69623 5.22836 9.14805C5.0013 8.59987 4.94189 7.99667 5.05764 7.41473C5.1734 6.83279 5.45912 6.29824 5.87868 5.87868C6.29824 5.45912 6.83279 5.1734 7.41473 5.05764C7.99667 4.94189 8.59987 5.0013 9.14805 5.22836C9.69623 5.45542 10.1648 5.83994 10.4944 6.33329C10.8241 6.82664 11 7.40666 11 8C11 8.79565 10.6839 9.55871 10.1213 10.1213C9.55871 10.6839 8.79565 11 8 11ZM7.25 1.75V0.75C7.25 0.551088 7.32902 0.360322 7.46967 0.21967C7.61032 0.0790176 7.80109 0 8 0C8.19891 0 8.38968 0.0790176 8.53033 0.21967C8.67098 0.360322 8.75 0.551088 8.75 0.75V1.75C8.75 1.94891 8.67098 2.13968 8.53033 2.28033C8.38968 2.42098 8.19891 2.5 8 2.5C7.80109 2.5 7.61032 2.42098 7.46967 2.28033C7.32902 2.13968 7.25 1.94891 7.25 1.75ZM11.8875 4.1125C11.8176 4.04282 11.7621 3.96003 11.7242 3.86886C11.6864 3.7777 11.6669 3.67996 11.6669 3.58125C11.6669 3.48254 11.6864 3.3848 11.7242 3.29364C11.7621 3.20247 11.8176 3.11968 11.8875 3.05L12.5938 2.34375C12.7346 2.20285 12.9257 2.1237 13.125 2.1237C13.3243 2.1237 13.5154 2.20285 13.6562 2.34375C13.7971 2.48465 13.8763 2.67574 13.8763 2.875C13.8763 3.07426 13.7971 3.26535 13.6562 3.40625L12.95 4.1125C12.8802 4.18209 12.7973 4.23723 12.7062 4.27476C12.615 4.3123 12.5173 4.33149 12.4187 4.33125C12.2199 4.33039 12.0293 4.25189 11.8875 4.1125ZM16 8C16 8.19891 15.921 8.38968 15.7803 8.53033C15.6397 8.67098 15.4489 8.75 15.25 8.75H14.25C14.0511 8.75 13.8603 8.67098 13.7197 8.53033C13.579 8.38968 13.5 8.19891 13.5 8C13.5 7.80109 13.579 7.61032 13.7197 7.46967C13.8603 7.32902 14.0511 7.25 14.25 7.25H15.25C15.4489 7.25 15.6397 7.32902 15.7803 7.46967C15.921 7.61032 16 7.80109 16 8ZM13.6562 12.5938C13.7262 12.6634 13.7816 12.7462 13.8195 12.8374C13.8574 12.9285 13.8768 13.0263 13.8768 13.125C13.8768 13.2237 13.8574 13.3215 13.8195 13.4126C13.7816 13.5038 13.7262 13.5866 13.6562 13.6562C13.5873 13.727 13.5046 13.7829 13.4132 13.8205C13.3219 13.8581 13.2238 13.8767 13.125 13.875C13.0264 13.8752 12.9288 13.856 12.8376 13.8185C12.7464 13.781 12.6636 13.7258 12.5938 13.6562L11.8875 12.95C11.7466 12.8091 11.6674 12.618 11.6674 12.4187C11.6674 12.2195 11.7466 12.0284 11.8875 11.8875C12.0284 11.7466 12.2195 11.6674 12.4187 11.6674C12.618 11.6674 12.8091 11.7466 12.95 11.8875L13.6562 12.5938ZM8.75 14.25V15.25C8.75 15.4489 8.67098 15.6397 8.53033 15.7803C8.38968 15.921 8.19891 16 8 16C7.80109 16 7.61032 15.921 7.46967 15.7803C7.32902 15.6397 7.25 15.4489 7.25 15.25V14.25C7.25 14.0511 7.32902 13.8603 7.46967 13.7197C7.61032 13.579 7.80109 13.5 8 13.5C8.19891 13.5 8.38968 13.579 8.53033 13.7197C8.67098 13.8603 8.75 14.0511 8.75 14.25ZM4.1125 11.8875C4.18242 11.9572 4.2379 12.04 4.27575 12.1311C4.31361 12.2223 4.33309 12.32 4.33309 12.4187C4.33309 12.5175 4.31361 12.6152 4.27575 12.7064C4.2379 12.7975 4.18242 12.8803 4.1125 12.95L3.40625 13.6562C3.33642 13.7258 3.25356 13.781 3.1624 13.8185C3.07124 13.856 2.97358 13.8752 2.875 13.875C2.77622 13.8767 2.67814 13.8581 2.58678 13.8205C2.49543 13.7829 2.41272 13.727 2.34375 13.6562C2.27383 13.5866 2.21835 13.5038 2.1805 13.4126C2.14264 13.3215 2.12316 13.2237 2.12316 13.125C2.12316 13.0263 2.14264 12.9285 2.1805 12.8374C2.21835 12.7462 2.27383 12.6634 2.34375 12.5938L3.05 11.8875C3.11968 11.8176 3.20247 11.7621 3.29364 11.7242C3.3848 11.6864 3.48254 11.6669 3.58125 11.6669C3.67996 11.6669 3.7777 11.6864 3.86886 11.7242C3.96003 11.7621 4.04282 11.8176 4.1125 11.8875ZM1.75 8.75H0.75C0.551088 8.75 0.360322 8.67098 0.21967 8.53033C0.0790176 8.38968 0 8.19891 0 8C0 7.80109 0.0790176 7.61032 0.21967 7.46967C0.360322 7.32902 0.551088 7.25 0.75 7.25H1.75C1.94891 7.25 2.13968 7.32902 2.28033 7.46967C2.42098 7.61032 2.5 7.80109 2.5 8C2.5 8.19891 2.42098 8.38968 2.28033 8.53033C2.13968 8.67098 1.94891 8.75 1.75 8.75ZM2.34375 3.40625C2.20285 3.26535 2.1237 3.07426 2.1237 2.875C2.1237 2.67574 2.20285 2.48465 2.34375 2.34375C2.48465 2.20285 2.67574 2.1237 2.875 2.1237C3.07426 2.1237 3.26535 2.20285 3.40625 2.34375L4.1125 3.05C4.18242 3.11968 4.2379 3.20247 4.27575 3.29364C4.31361 3.3848 4.33309 3.48254 4.33309 3.58125C4.33309 3.67996 4.31361 3.7777 4.27575 3.86886C4.2379 3.96003 4.18242 4.04282 4.1125 4.1125C3.97071 4.25189 3.78008 4.33039 3.58125 4.33125C3.48267 4.33149 3.38501 4.3123 3.29385 4.27476C3.20269 4.23723 3.11983 4.18209 3.05 4.1125L2.34375 3.40625Z"
        fill={checked ? '#0000008a' : '#CACACA'}
      />
    </svg>
  </div>
)

export const DarkIcon = ({ checked }) => (
  <div
    style={{
      padding: 6,
      display: 'flex',
      alignItems: 'center',
      borderRadius: '50%',
      background: checked ? '#232D46' : 'transparent',
    }}
  >
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M6 0.277993C6.09761 0.396606 6.15741 0.541765 6.17168 0.694716C6.18594 0.847667 6.154 1.00138 6.08 1.13599C5.50186 2.19747 5.19993 3.38729 5.202 4.59599C5.202 8.61699 8.48 11.873 12.52 11.873C13.047 11.873 13.56 11.818 14.053 11.713C14.2041 11.6803 14.3615 11.6928 14.5056 11.749C14.6497 11.8052 14.774 11.9026 14.863 12.029C14.957 12.1604 15.0049 12.3193 14.9993 12.4808C14.9937 12.6423 14.9349 12.7974 14.832 12.922C14.0477 13.8854 13.0582 14.6617 11.9358 15.1942C10.8134 15.7267 9.58632 16.002 8.344 16C3.734 16 0 12.286 0 7.70999C0 4.26599 2.114 1.31199 5.124 0.0599933C5.27394 -0.00337482 5.44039 -0.0163809 5.59835 0.022929C5.75631 0.0622388 5.89725 0.151742 6 0.277993Z"
        fill={checked ? 'white' : '#6666668a'}
      />
      <path
        d="M10.7938 3.148C10.8082 3.10469 10.8358 3.06701 10.8728 3.0403C10.9097 3.01359 10.9542 2.99921 10.9998 2.99921C11.0454 2.99921 11.0899 3.01359 11.1269 3.0403C11.1638 3.06701 11.1915 3.10469 11.2058 3.148L11.5928 4.31C11.7658 4.828 12.1718 5.234 12.6898 5.407L13.8518 5.794C13.8951 5.80834 13.9328 5.83596 13.9595 5.87294C13.9862 5.90992 14.0006 5.95438 14.0006 6C14.0006 6.04562 13.9862 6.09007 13.9595 6.12705C13.9328 6.16404 13.8951 6.19166 13.8518 6.206L12.6898 6.593C12.4343 6.67811 12.2022 6.82156 12.0118 7.01197C11.8214 7.20238 11.6779 7.43452 11.5928 7.69L11.2058 8.852C11.1915 8.8953 11.1638 8.93299 11.1269 8.9597C11.0899 8.98641 11.0454 9.00078 10.9998 9.00078C10.9542 9.00078 10.9097 8.98641 10.8728 8.9597C10.8358 8.93299 10.8082 8.8953 10.7938 8.852L10.4068 7.69C10.3217 7.43452 10.1782 7.20238 9.98784 7.01197C9.79743 6.82156 9.56529 6.67811 9.30981 6.593L8.14781 6.206C8.1045 6.19166 8.06682 6.16404 8.04011 6.12705C8.0134 6.09007 7.99902 6.04562 7.99902 6C7.99902 5.95438 8.0134 5.90992 8.04011 5.87294C8.06682 5.83596 8.1045 5.80834 8.14781 5.794L9.30981 5.407C9.56529 5.32188 9.79743 5.17843 9.98784 4.98802C10.1782 4.79761 10.3217 4.56547 10.4068 4.31L10.7938 3.148ZM13.8628 0.098998C13.8727 0.0705243 13.8912 0.0458339 13.9157 0.0283596C13.9403 0.0108853 13.9697 0.00149536 13.9998 0.00149536C14.0299 0.00149536 14.0593 0.0108853 14.0839 0.0283596C14.1084 0.0458339 14.1269 0.0705243 14.1368 0.098998L14.3948 0.872998C14.5098 1.219 14.7808 1.49 15.1268 1.605L15.9008 1.863C15.9293 1.87287 15.954 1.89137 15.9714 1.91592C15.9889 1.94047 15.9983 1.96986 15.9983 2C15.9983 2.03013 15.9889 2.05952 15.9714 2.08407C15.954 2.10863 15.9293 2.12713 15.9008 2.137L15.1268 2.395C14.9563 2.45172 14.8014 2.54741 14.6743 2.67448C14.5472 2.80155 14.4515 2.95649 14.3948 3.127L14.1368 3.901C14.1269 3.92947 14.1084 3.95416 14.0839 3.97164C14.0593 3.98911 14.0299 3.9985 13.9998 3.9985C13.9697 3.9985 13.9403 3.98911 13.9157 3.97164C13.8912 3.95416 13.8727 3.92947 13.8628 3.901L13.6048 3.127C13.5481 2.95649 13.4524 2.80155 13.3253 2.67448C13.1983 2.54741 13.0433 2.45172 12.8728 2.395L12.0988 2.137C12.0703 2.12713 12.0456 2.10863 12.0282 2.08407C12.0107 2.05952 12.0013 2.03013 12.0013 2C12.0013 1.96986 12.0107 1.94047 12.0282 1.91592C12.0456 1.89137 12.0703 1.87287 12.0988 1.863L12.8728 1.605C13.2188 1.49 13.4898 1.219 13.6048 0.872998L13.8628 0.099998V0.098998Z"
        fill={checked ? 'white' : '#6666668a'}
      />
    </svg>
  </div>
)
